(window.webpackJsonp=window.webpackJsonp||[]).push([[7,25],{"2wcW":function(t,a,e){"use strict";e.r(a);var s=e("vDqi"),n=e.n(s),i={props:{onsuccessdelete:Function},data:function(){return{isDeleting:!1,data:{product_id:null,name:null}}},methods:{confirm:function(){var t=this;if(this.data.product_id){this.isDeleting=!0;var a={_method:"DELETE",product_id:this.data.product_id};n()({method:"POST",url:"/api/admin/product",data:a}).then((function(a){"function"==typeof t.onsuccessdelete&&t.onsuccessdelete.call(t,a)})).finally((function(){t.isDeleting=!1}))}}}},r=e("KHd+"),l=Object(r.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[t._v("Apakah Anda yakin akan menghapus produk '"),e("strong",{domProps:{innerHTML:t._s(t.data.name)}}),t._v("'?")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.isDeleting},on:{click:t.confirm}},[t.isDeleting?e("i",{staticClass:"feather icon-loader"}):t._e(),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.isDeleting?"Menghapus...":"Ya"))])]),t._v(" "),e("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.isDeleting,"data-dismiss":"modal"}},[e("span",{staticClass:"text"},[t._v("Tidak")])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{staticClass:"feather icon-x",attrs:{"aria-hidden":"true"}})]),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("Konfirmasi Hapus")])])}],!1,null,null,null);a.default=l.exports},ETNC:function(t,a,e){var s=e("xI6E");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,n);s.locals&&(t.exports=s.locals)},"KHd+":function(t,a,e){"use strict";function s(t,a,e,s,n,i,r,l){var o,c="function"==typeof t?t.options:t;if(a&&(c.render=a,c.staticRenderFns=e,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=o):n&&(o=l?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),o)if(c.functional){c._injectStyles=o;var d=c.render;c.render=function(t,a){return o.call(a),d(t,a)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,o):[o]}return{exports:t,options:c}}e.d(a,"a",(function(){return s}))},Mcfz:function(t,a,e){"use strict";var s=e("KHd+"),n={components:{MainSidebar:Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("aside",{staticClass:"main-sidebar"},[e("section",{staticClass:"sidebar"},[e("ul",{staticClass:"sidebar-menu",attrs:{"data-widget":"tree"}},[t._m(0),t._v(" "),e("li",[e("inertia-link",{attrs:{href:"/admin"}},[e("i",{staticClass:"feather icon-activity"}),t._v(" "),e("span",{staticClass:"text"},[t._v("Beranda")])])],1),t._v(" "),e("li",[e("inertia-link",{attrs:{href:"/admin/category"}},[e("i",{staticClass:"feather icon-tag"}),t._v(" "),e("span",{staticClass:"text"},[t._v("Kategori")])])],1),t._v(" "),e("li",[e("inertia-link",{attrs:{href:"/admin/product"}},[e("i",{staticClass:"feather icon-box"}),t._v(" "),e("span",{staticClass:"text"},[t._v("Produk")])])],1),t._v(" "),e("li",[e("inertia-link",{attrs:{href:"/admin/order"}},[e("i",{staticClass:"feather icon-shopping-cart"}),t._v(" "),e("span",{staticClass:"text"},[t._v("Pesanan")])])],1)])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"header"},[a("strong",[this._v("MENU")])])}],!1,null,null,null).exports},methods:{}},i=Object(s.a)(n,(function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),a("main-sidebar"),this._v(" "),this._t("default")],2)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("header",{staticClass:"main-header"},[a("a",{staticClass:"logo",attrs:{href:"/"}},[a("span",{staticClass:"logo-lg"},[this._v("Malang"),a("strong",{staticStyle:{"font-weight":"600"}},[this._v("Pedia")])])]),this._v(" "),a("nav",{staticClass:"navbar navbar-static-top"},[a("div",{staticClass:"navbar-custom-menu"},[a("ul",{staticClass:"nav navbar-nav"},[a("li",{staticClass:"user user-menu"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[a("span",{staticClass:"hidden-xs"},[this._v("Admin")])])]),this._v(" "),a("li",[a("a",{attrs:{href:"javascript:void(0)"}},[this._v("Keluar")])])])])])])}],!1,null,null,null);a.a=i.exports},ReCL:function(t,a,e){"use strict";var s=e("ETNC");e.n(s).a},f2cd:function(t,a,e){"use strict";e.r(a);e("vDqi");var s=e("uNhu"),n=e("Mcfz"),i={components:{DeleteFormModal:e("2wcW").default},layout:n.a,data:function(){return{data:[],$dataTable:null,dataTableApi:null}},methods:{deleteFormModalOnSuccessDelete:function(){this.dataTableApi instanceof Object&&(this.dataTableApi.draw(),$(this.$refs.deleteFormModal.$el).modal("hide"))}},mounted:function(){var t=this;s.a.include("/assets/admin/js/select2.min.js").then((function(){s.a.include("/assets/admin/bower_components/datatables.net/js/datatables.min.js").then((function(){var a=1,e=t.$refs.deleteFormModal,s=$(e.$el);t.$dataTable=$("#dataTable").dataTable({dom:"<'row'<'col'B><'col'f><'col float-right'l>><'row mr-0 overflow-auto'<'col-xs-12't>><'row'<'col'i><'col float-right'p>>",buttons:[{className:"btn btn-primary btn-icon btn-rounded",text:'<i class="feather icon-plus"></i>',action:function(){t.$inertia.visit("/admin/product/insert")}}],columns:[{className:"no-padding",data:"product_id",render:function(t){return'<div class="flex"><a class="btn btn-transparent btn-icon btn-rounded btn-update" href="/admin/product/update/'.concat(t,'"><i class="feather icon-edit-2"></i></a><button class="btn btn-transparent btn-icon btn-rounded btn-delete"><i class="feather icon-trash"></i></button></div>')}},{data:"product_id",render:function(){return a++},searchable:!1,sortable:!1},{data:"name"},{data:"quantity",render:function(t){return"number"==typeof t?t.toString():"-"}},{data:"price",render:function(t){return null===t?"-":"Rp ".concat(Number.parseFloat(t).toLocaleString("id-ID"))}}],processing:!0,serverSide:!0,ajax:{url:"/api/admin/product"},preDrawCallback:function(t){a=t._iDisplayStart+1},drawCallback:function(){var a=t.dataTableApi.rows();a[0].forEach((function(n){var i=a.row(n),r=i.data(),l=i.node();$(l).find(".btn-update").on("click",(function(a){a.preventDefault(),t.$inertia.visit(a.currentTarget.href)})),$(l).find(".btn-delete").on("click",(function(){e.data.product_id=[r.product_id],e.data.name=r.name,s.modal("show")}))}))},language:{search:"",searchPlaceholder:"Cari"}}),t.dataTableApi=t.$dataTable.api(),$(".dataTables_filter").find(".input-sm").removeClass("input-sm").css({width:"320px"}),$("[name=dataTable_length]").select2({minimumResultsForSearch:-1})}))}))}},r=(e("ReCL"),e("KHd+")),l=Object(r.a)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-wrapper"},[e("section",{staticClass:"content-header"},[t._m(0),t._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("inertia-link",{attrs:{href:"/admin"}},[e("span",{staticClass:"text"},[t._v("Beranda")])])],1),t._v(" "),t._m(1)])]),t._v(" "),e("section",{staticClass:"content"},[e("div",{staticClass:"row h-100"},[e("div",{staticClass:"col-md-12 h-100"},[e("div",{staticClass:"box box-solid d-flex flex-column mh-100"},[e("div",{staticClass:"box-body"},[e("table",{ref:"dataTable",staticClass:"table dataTable",attrs:{id:"dataTable"}},[t._m(2),t._v(" "),e("tbody")])])])])])]),t._v(" "),e("delete-form-modal",{ref:"deleteFormModal",attrs:{onsuccessdelete:t.deleteFormModalOnSuccessDelete}})],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",[a("i",{staticClass:"feather icon-box"}),this._v(" Produk")])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("span",{staticClass:"text"},[this._v("Produk")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticStyle:{"min-width":"68px",padding:"8px !important",width:"68px"}},[t._v("Tools")]),t._v(" "),e("th",{staticStyle:{"min-width":"48px",width:"48px"}},[t._v("#")]),t._v(" "),e("th",{staticStyle:{"min-width":"240px",width:"240px"}},[t._v("Nama")]),t._v(" "),e("th",{staticStyle:{"min-width":"100px",width:"100px"}},[t._v("Jumlah")]),t._v(" "),e("th",{staticStyle:{"min-width":"120px",width:"120px"}},[t._v("Harga")])])])}],!1,null,null,null);a.default=l.exports},uNhu:function(t,a,e){"use strict";var s={};a.a={include:function(t){var a=document.createElement("script"),e=new Promise((function(t,e){a.addEventListener("load",t),a.addEventListener("error",e)}));return a.src=t,s[t]=document.head.appendChild(a),e},exclude:function(t){return delete s[t],t},excludeAll:function(){var t=[];for(var a in s)s[a]instanceof HTMLScriptElement&&(t.push(a),delete s[a]);return t}}},xI6E:function(t,a,e){(a=t.exports=e("I1BE")(!1)).push([t.i,"@import url(/assets/admin/bower_components/datatables.net-bs/css/datatables.min.css);",""]),a.push([t.i,"@import url(/assets/admin/css/select2.min.css);",""]),a.push([t.i,"\r\n",""])}}]);
//# sourceMappingURL=7.js.map?id=e2e25c21042517204876