(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+SZM":function(t,a,i){"use strict";var s=i("vDqi"),n=i.n(s),e={store:i("Jc6O").a,data:function(){return{isGettingUser:!0,user:null,shopping_cart_products:[]}},mounted:function(){var t=this;this.$store.commit("refreshShoppingCartProducts"),$(".loader").fadeOut(),$("#preloder").delay(200).fadeOut("slow"),n.a.get("/api/auth/user").then((function(a){if(a.data instanceof Object){var i=a.data.data;i instanceof Object&&(t.user=i)}})).finally((function(){t.isGettingUser=!1}))}},o=(i("vGEg"),i("KHd+")),r=Object(o.a)(e,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[t._m(0),t._v(" "),i("header",{staticClass:"header"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col flex-grow-0"},[i("div",{staticClass:"header__logo"},[i("inertia-link",{attrs:{href:"/"}},[i("h1",[t._v("MalangPedia")])])],1)]),t._v(" "),i("div",{staticClass:"col"},[i("nav",{staticClass:"header__menu"},[i("ul",[i("li",{staticClass:"active"},[i("inertia-link",{attrs:{href:"/"}},[t._v("Home")])],1),t._v(" "),i("li",[i("inertia-link",{attrs:{href:"/category/komputer-laptop/komputer-desktop"}},[t._v("Komputer Desktop")])],1),t._v(" "),i("li",[i("inertia-link",{attrs:{href:"/category/komputer-laptop/laptop"}},[t._v("Laptop")])],1),t._v(" "),i("li",[i("inertia-link",{attrs:{href:"/category/komputer-laptop/komponen"}},[t._v("Komponen")])],1),t._v(" "),i("li",[i("inertia-link",{attrs:{href:"/category/komputer-laptop/sewa-laptop"}},[t._v("Sewa Laptop")])],1)])])]),t._v(" "),i("div",{staticClass:"col flex-grow-0"},[t.isGettingUser?t._e():i("div",{staticClass:"header__right"},[t.user instanceof Object?i("div",{staticClass:"header__right__widget"},[i("li",[i("div",{staticClass:"dropdown",attrs:{id:"shoppingCartProductsDropdown"}},[i("inertia-link",{staticClass:"shopping-cart",attrs:{id:"shoppingCartDropdownLink",href:"/shopping-cart"}},[i("i",{staticClass:"feather icon-shopping-cart"}),t._v(" "),i("div",{staticClass:"tip"},[t._v(t._s(t.$store.state.shoppingCartProducts.length))])])],1)])]):t._e(),t._v(" "),i("div",{staticClass:"header__right__auth"},[t.user instanceof Object?t._e():i("inertia-link",{attrs:{href:"/auth/login"}},[t._v("Login")]),t._v(" "),t.user instanceof Object?t._e():i("inertia-link",{attrs:{href:"/auth/register"}},[t._v("Register")]),t._v(" "),t.user instanceof Object?i("inertia-link",{attrs:{href:"/profile"}},[t._v(t._s(t.user.name))]):t._e()],1)])])]),t._v(" "),t._m(1)])]),t._v(" "),t._t("default")],2)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"preloder"}},[a("div",{staticClass:"loader"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"canvas__open"},[a("i",{staticClass:"fa fa-bars"})])}],!1,null,null,null);a.a=r.exports},"5xnn":function(t,a,i){var s=i("VduA");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(s,n);s.locals&&(t.exports=s.locals)},Jc6O:function(t,a,i){"use strict";var s,n=i("Kw5r"),e=i("L2JU"),o=i("vDqi"),r=i.n(o),c=i("Wz0r");n.default.use(e.a);var d=new e.a.Store({state:{shoppingCartProducts:[]},mutations:{refreshShoppingCartProducts:function(t){r.a.get("/api/shopping-cart-product").then((function(a){if(a.data instanceof Object){var i=a.data.data;i instanceof Array&&(t.shoppingCartProducts=i)}}))},insertShoppingCartProduct:function(t,a){var i=a.product_id,s=a.quantity;r()({method:"POST",url:"/api/shopping-cart-product",data:{_method:"PUT",product_id:i,quantity:s}}).then((function(a){if(a.data instanceof Object){var i=a.data.data;i instanceof Object&&(201===a.status?t.shoppingCartProducts.push(i):200===a.status&&(t.shoppingCartProducts[idx].quantity=i.quantity))}})).catch((function(t){401===t.response.status&&c.Inertia.visit("/auth/login")}))},updateQuantityShoppingCartProduct:function(t,a){var i=a.idx,n=a.quantity;s instanceof Object&&s.cancel(),s=r.a.CancelToken.source();var e=t.shoppingCartProducts[i].product_id;t.shoppingCartProducts[i].quantity=n,r()({method:"POST",url:"/api/shopping-cart-product",data:{_method:"PATCH",product_id:e,quantity:n},cancelToken:s.token}).then((function(a){a.data instanceof Object&&a.data.data instanceof Object&&"number"==typeof a.data.data.quantity&&(t.shoppingCartProducts[i].quantity=a.data.data.quantity)})).catch((function(t){t.response instanceof Object&&401===t.response.status&&c.Inertia.visit("/auth/login")}))},increaseQuantityShoppingCartProduct:function(t,a){var i=a.idx,s=t.shoppingCartProducts[i].quantity;s++,this.commit("updateQuantityShoppingCartProduct",{idx:i,quantity:s})},decreaseQuantityShoppingCartProduct:function(t,a){var i=a.idx,s=t.shoppingCartProducts[i].quantity;s>1&&(s--,this.commit("updateQuantityShoppingCartProduct",{idx:i,quantity:s}))},removeShoppingCartProduct:function(t,a){var i=a.idx,s=t.shoppingCartProducts[i].product_id;r()({method:"POST",url:"/api/shopping-cart-product",data:{_method:"DELETE",product_id:[s]}}).then((function(a){t.shoppingCartProducts.splice(i,1)})).catch((function(t){401===t.response.status&&c.Inertia.visit("/auth/login")}))}}});a.a=d},VduA:function(t,a,i){(t.exports=i("I1BE")(!1)).push([t.i,"\n.dropdown-menu {\r\n  overflow: hidden;\n}\n#shoppingCartProductsDropdownMenu {\r\n  left: auto;\r\n  right: 0;\n}\r\n",""])},vGEg:function(t,a,i){"use strict";var s=i("5xnn");i.n(s).a},"wl+6":function(t,a,i){"use strict";i.r(a);var s=i("+SZM"),n=i("vDqi"),e=i.n(n),o={store:i("Jc6O").a,layout:s.a,data:function(){return{data:[],input:{address:null,note:null}}},methods:{refresh:function(){this.$store.commit("refreshShoppingCartProducts")},orderButtonOnClick:function(){$(this.$refs.orderConfirmationModal).modal("show")},cancelOrderConfirmationButtonOnClick:function(){$(this.$refs.orderConfirmationModal).modal("hide")},yesOrderConfirmationButtonOnClick:function(){var t=this,a={_method:"PUT",address:this.input.address,note:this.input.note,products:this.data.map((function(t){return{product_id:t.product_id,quantity:t.quantity}}))};e()({method:"POST",url:"/api/order",data:a}).then((function(a){if(a.data instanceof Object){var i=a.data.data;i instanceof Object&&t.$inertia.visit("/order/".concat(i.order_id))}}))}},mounted:function(){var t=this;$("#testModal").modal("show"),e.a.get("/api/shopping-cart-product").then((function(a){if(a.data instanceof Object){var i=a.data.data;i instanceof Array&&(t.data=i)}}))}},r=i("KHd+"),c=Object(r.a)(o,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"breadcrumb-option"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-12"},[i("div",{staticClass:"breadcrumb__links"},[i("inertia-link",{attrs:{href:"/"}},[i("i",{staticClass:"fa fa-home"}),t._v(" Home")]),t._v(" "),i("span",[t._v("Checkout")])],1)])])])]),t._v(" "),i("section",{staticClass:"checkout spad"},[i("div",{staticClass:"container"},[i("form",{staticClass:"checkout__form"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-8"},[i("h5",[t._v("Detail tagihan")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"checkout__form__input"},[t._m(0),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.input.address,expression:"input.address"}],attrs:{id:"addressInput",name:"address",type:"text",spellcheck:"false",autocomplete:"off"},domProps:{value:t.input.address},on:{input:function(a){a.target.composing||t.$set(t.input,"address",a.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"checkout__form__input"},[i("p",[t._v("Catatan")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input.note,expression:"input.note"}],staticStyle:{width:"100%"},attrs:{id:"noteTextarea",name:"note",spellcheck:"false",autocomplete:"off",rows:"6"},domProps:{value:t.input.note},on:{input:function(a){a.target.composing||t.$set(t.input,"note",a.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"col-lg-4"},[i("div",{staticClass:"checkout__order"},[i("h5",[t._v("Pesanan Anda")]),t._v(" "),i("div",{staticClass:"checkout__order__product"},[i("ul",[t._m(1),t._v(" "),t._l(t.$store.state.shoppingCartProducts,(function(a,s){return i("li",{key:a.product_id},[t._v(t._s((s+1).toString().padStart(2,"0"))+". "+t._s(a.name)+" x "+t._s(a.quantity)+" "),i("span",[t._v("Rp "+t._s((a.quantity*a.price).toLocaleString("id-ID")))])])})),t._v(" "),i("li",[i("span",[t._v("Rp "+t._s(t.$store.state.shoppingCartProducts.reduce((function(t,a,i){return t+a.quantity*a.price}),0).toLocaleString("id-ID")))])])],2)]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-6"},[i("button",{staticClass:"site-btn",attrs:{type:"button"},on:{click:t.refresh}},[t._v("Refresh")])]),t._v(" "),i("div",{staticClass:"col-6"},[i("button",{staticClass:"site-btn",attrs:{type:"button"},on:{click:t.orderButtonOnClick}},[t._v("Pesan")])])])])])])])])]),t._v(" "),i("div",{ref:"orderConfirmationModal",staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"site-btn",attrs:{type:"button"},on:{click:t.yesOrderConfirmationButtonOnClick}},[t._v("Ya")]),t._v(" "),i("button",{staticClass:"site-btn",attrs:{type:"button"},on:{click:t.cancelOrderConfirmationButtonOnClick}},[t._v("Batal")])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Alamat "),a("span",[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("span",{staticClass:"top__text"},[this._v("Produk")]),this._v(" "),a("span",{staticClass:"top__text__right"},[this._v("Total")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-body"},[a("p",[this._v("Apakah Anda yakin akan memesan produk tersebut?")])])}],!1,null,null,null);a.default=c.exports}}]);
//# sourceMappingURL=12.js.map?id=e59045ad9ae42598899b