function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("axios")),i=e(require("nprogress"));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e}).apply(this,arguments)}var n={modal:null,listener:null,show:function(e){var t=this,i=document.createElement("html");i.innerHTML=e,i.querySelectorAll("a").forEach(function(e){return e.setAttribute("target","_top")}),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",function(){return t.hide()});var o=document.createElement("iframe");o.style.backgroundColor="white",o.style.borderRadius="5px",o.style.width="100%",o.style.height="100%",this.modal.appendChild(o),document.body.prepend(this.modal),document.body.style.overflow="hidden",o.contentWindow.document.open(),o.contentWindow.document.write(i.outerHTML),o.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide:function(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape:function(e){27===e.keyCode&&this.hide()}};i.configure({showSpinner:!1});var s={delay:null,loading:!1,start:function(){var e=this;clearTimeout(this.delay),this.delay=setTimeout(function(){e.loading=!0,i.set(0),i.start()},250)},increment:function(){this.loading&&i.inc(.4)},stop:function(){clearTimeout(this.delay),this.loading&&(i.done(),this.loading=!1)}};exports.Inertia={saveScrollPositions:null,resolveComponent:null,updatePage:null,version:null,visitId:null,cancelToken:null,page:null,init:function(e){var t,i,n=this,s=e.initialPage,r=e.updatePage;this.resolveComponent=e.resolveComponent,this.updatePage=r,window.history.state&&"back_forward"===this.navigationType()?this.setPage(window.history.state):window.sessionStorage.getItem("inertia.hardVisit")?(window.sessionStorage.removeItem("inertia.hardVisit"),this.setPage(s,{preserveState:!0})):(s.url+=window.location.hash,this.setPage(s)),this.saveScrollPositions=(t=function(){n.setState(o({},window.history.state,{scrollRegions:Array.prototype.slice.call(n.scrollRegions()).map(function(e){return{top:e.scrollTop,left:e.scrollLeft}})}))},i=null,function(){var e=arguments,o=this;clearTimeout(i),i=setTimeout(function(){return t.apply(o,e)},100)}),window.addEventListener("popstate",this.restoreState.bind(this))},navigationType:function(){if(window.performance&&window.performance.getEntriesByType("navigation").length)return window.performance.getEntriesByType("navigation")[0].type},scrollRegions:function(){return document.querySelectorAll("[scroll-region]")},isInertiaResponse:function(e){return e&&e.headers["x-inertia"]},cancelActiveVisits:function(){this.cancelToken&&this.cancelToken.cancel(this.cancelToken),this.cancelToken=t.CancelToken.source()},createVisitId:function(){return this.visitId={},this.visitId},visit:function(e,i){var r=this,a=void 0===i?{}:i,l=a.method,c=void 0===l?"get":l,d=a.data,h=void 0===d?{}:d,u=a.replace,p=void 0!==u&&u,v=a.preserveScroll,f=void 0!==v&&v,m=a.preserveState,w=void 0!==m&&m,g=a.only,y=void 0===g?[]:g;s.start(),this.cancelActiveVisits(),this.saveScrollPositions();var S=this.createVisitId();return t({method:c,url:e.toString(),data:"get"===c.toLowerCase()?{}:h,params:"get"===c.toLowerCase()?h:{},cancelToken:this.cancelToken.token,headers:o({Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},y.length?{"X-Inertia-Partial-Component":this.page.component,"X-Inertia-Partial-Data":y.join(",")}:{},this.version?{"X-Inertia-Version":this.version}:{})}).then(function(e){if(r.isInertiaResponse(e))return e.data;n.show(e.data)}).catch(function(e){if(!t.isCancel(e))return 409===e.response.status&&e.response.headers["x-inertia-location"]?(s.stop(),r.hardVisit(!0,e.response.headers["x-inertia-location"])):r.isInertiaResponse(e.response)?e.response.data:e.response?(s.stop(),void n.show(e.response.data)):Promise.reject(e)}).then(function(e){if(e)return y.length&&(e.props=o({},r.page.props,e.props)),r.setPage(e,{visitId:S,replace:p,preserveScroll:f,preserveState:w})})},hardVisit:function(e,t){window.sessionStorage.setItem("inertia.hardVisit",!0),e?window.location.replace(t):window.location.href=t},setPage:function(e,t){var i=this,o=void 0===t?{}:t,n=o.visitId,r=void 0===n?this.createVisitId():n,a=o.replace,l=void 0!==a&&a,c=o.preserveScroll,d=void 0!==c&&c,h=o.preserveState,u=void 0!==h&&h;return this.page=e,s.increment(),Promise.resolve(this.resolveComponent(e.component)).then(function(t){r===i.visitId&&(i.version=e.version,i.setState(e,l,u),i.updatePage(t,e.props,{preserveState:u}).then(function(){var e=i.scrollRegions();e.forEach(function(e){e.addEventListener("scroll",i.saveScrollPositions)}),d||(window.scrollTop=0,window.scrollLeft=0,e.forEach(function(e){e.scrollTop=0,e.scrollLeft=0})),i.saveScrollPositions()}),s.stop())})},setState:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),t||e.url===""+window.location.pathname+window.location.search?window.history.replaceState(o({},{cache:i&&window.history.state?window.history.state.cache:{}},e),"",e.url):window.history.pushState(o({cache:{}},e),"",e.url)},restoreState:function(e){var t=this;if(e.state){s.start(),this.page=e.state;var i=this.createVisitId();return Promise.resolve(this.resolveComponent(this.page.component)).then(function(e){i===t.visitId&&(t.version=t.page.version,t.setState(t.page),t.updatePage(e,t.page.props,{preserveState:!1}).then(function(){t.page.scrollRegions&&t.scrollRegions().forEach(function(e,i){e.scrollTop=t.page.scrollRegions[i].top,e.scrollLeft=t.page.scrollRegions[i].left})}),s.stop())})}},replace:function(e,t){return void 0===t&&(t={}),this.visit(e,o({preserveState:!0},t,{replace:!0}))},reload:function(e){return void 0===e&&(e={}),this.replace(window.location.href,e)},post:function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),this.visit(e,o({preserveState:!0},i,{method:"post",data:t}))},put:function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),this.visit(e,o({preserveState:!0},i,{method:"put",data:t}))},patch:function(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),this.visit(e,o({preserveState:!0},i,{method:"patch",data:t}))},delete:function(e,t){return void 0===t&&(t={}),this.visit(e,o({},t,{method:"delete"}))},remember:function(e,t){void 0===t&&(t="default");var i=o({},window.history.state);i.cache=i.cache||{},i.cache[t]=e,this.setState(i)},restore:function(e){if(void 0===e&&(e="default"),window.history.state.cache&&window.history.state.cache[e])return window.history.state.cache[e]}},exports.shouldIntercept=function(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)};
//# sourceMappingURL=index.js.map
